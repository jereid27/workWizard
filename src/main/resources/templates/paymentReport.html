<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Payment Report</title>
  <link rel="stylesheet" type="text/css" href="/css/account-created.css" th:href="@{/css/paymentReport.css}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fjalla+One&family=Recursive:wght@300..1000&display=swap" rel="stylesheet">

  <style>
    body {
      background-image: url('/images/dashbackground.png');
      background-size: 100% 100%;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
  </style>
</head>
<body>

<!--This HTML file demonstrates the use of a generated report with multiple rows, multiple columns, date-time stamps and title. -->

<div class="table-container">
  <table class="payment-table">
    <thead>
    <tr>
      <th class="title" colspan="4">Payment Report</th>
    </tr>
    <tr>
      <th colspan="4">Generated by: <span th:text="${userdetails?.getFullname()}"></span></th>
    </tr>
    <tr>
      <th colspan="4">Generated on: <span th:text="${currentDateTime}"></span></th>
    </tr>
    <tr>
      <th>Date</th>
      <th>Amount</th>
      <th>Artist Earnings</th>
      <th>Shop Earnings</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="payment : ${payments}">
      <td th:text="${#temporals.format(payment.date, 'MM/dd/yy')}"></td>
      <td th:text="${payment.amount}"></td>
      <td th:text="${payment.amount * payment.artistPercentage / 100}"></td>
      <td th:text="${payment.amount - (payment.amount * payment.artistPercentage / 100)}"></td>
    </tr>
    </tbody>
    <tfoot>
    <tr>
      <td colspan="4">Total Amount: <span th:text="${totalAmount}"></span></td>
    </tr>
    <tr>
      <td colspan="4">Total Employee Earnings: <span th:text="${totalArtistEarnings}"></span></td>
    </tr>
    <tr>
      <td colspan="4">Total Employer Earnings: <span th:text="${totalShopEarnings}"></span></td>
    </tr>
    </tfoot>
  </table>
</div>
<div class="dashboard-button">
  <a th:href="@{/dashboard}">Dashboard</a>
</div>

</body>
</html>